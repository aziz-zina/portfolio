<section #experienceSection class="relative z-10 py-24 bg-transparent">
  
  <!-- Horizontal Scroll Container -->
  <div #horizontalContainer class="relative h-screen w-full flex flex-col justify-center">
    
    <!-- Section Header (Fixed position visually relative to the scroll) -->
    <div class="absolute top-10 left-0 w-full z-20 px-8">
      <div class="max-w-[1800px] mx-auto flex justify-between items-end border-b border-zinc-800 pb-6">
        <div>
          <h2 class="text-5xl md:text-7xl font-sans font-light tracking-tighter text-white">
            Experience
          </h2>
          <p class="mt-2 text-zinc-500 font-mono text-sm uppercase tracking-widest">
            Career Trajectory
          </p>
        </div>
        
        <!-- Progress Bar (Header integrated) -->
        <div class="hidden md:flex flex-col items-end gap-2 text-zinc-500">
          <span class="font-mono text-xs">SCROLL TO EXPLORE</span>
          <div class="w-32 h-[1px] bg-zinc-800 overflow-hidden">
            <div #progressBar class="h-full bg-white w-0"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Horizontal scroll track -->
    <div #horizontalTrack class="flex gap-12 px-8 pl-[10vw] items-center h-full pt-32 will-change-transform">
      @for (item of experience(); track $index) {
        <div class="group relative h-[60vh] w-[85vw] md:w-[600px] flex-shrink-0 perspective-1000">
          
          <!-- Card Content -->
          <div 
            class="relative h-full w-full bg-white/50 border border-zinc-200 p-8 md:p-12 flex flex-col justify-between transition-all duration-700 ease-out group-hover:border-zinc-400 group-hover:shadow-[0_0_50px_-12px_rgba(255,255,255,0.2)] rounded-xl"
          >
            <!-- Top: Date & Status -->
            <div class="flex justify-between items-start">
              <span class="font-mono text-sm text-zinc-500">
                {{ item.date }}
              </span>
              @if (item.current) {
                <span class="flex items-center gap-2 px-3 py-1 bg-zinc-100 border border-zinc-200 text-[10px] font-mono tracking-widest text-zinc-900">
                  <span class="w-1.5 h-1.5 rounded-full bg-zinc-900 animate-pulse"></span>
                  PRESENT
                </span>
              }
            </div>

            <!-- Middle: Role & Company -->
            <div class="space-y-4 my-8">
              <h3 class="text-4xl md:text-5xl font-light tracking-tight text-zinc-900 group-hover:text-zinc-700 transition-colors">
                {{ item.title }}
              </h3>
              <div class="text-xl text-zinc-500 font-normal">
                {{ item.company }}
              </div>
            </div>

            <!-- Bottom: Description & Skills -->
            <div class="space-y-8">
              <ul class="space-y-3">
                @for (desc of item.description; track $index) {
                  <li class="flex items-start gap-4 text-zinc-600 text-sm leading-relaxed font-light">
                    <span class="mt-2 w-1 h-1 rounded-full bg-zinc-400 group-hover:bg-zinc-900 transition-colors"></span>
                    <span>{{ desc }}</span>
                  </li>
                }
              </ul>

              @if(item.skills && item.skills!.length > 0){
                <div class="flex flex-wrap gap-2 pt-6 border-t border-zinc-100">
                  @for (skill of item.skills; track $index) {
                    <span 
                      class="px-3 py-1 text-[10px] uppercase tracking-wider text-zinc-500 border border-zinc-200 rounded-sm transition-all duration-300 group-hover:border-zinc-900 group-hover:text-zinc-900"
                    >
                      {{ skill }}
                    </span>
                  }
                </div>
              }
            </div>
          </div>
        </div>
      }
      
      <!-- End Spacer -->
      <div class="flex-shrink-0 w-[20vw] flex items-center justify-center">
        <div class="w-px h-32 bg-gradient-to-b from-transparent via-zinc-800 to-transparent"></div>
      </div>
    </div>
  </div>
</section>
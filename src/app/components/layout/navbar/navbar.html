<header
  class="fixed top-0 z-50 h-16 w-full bg-white/80 backdrop-blur-md border-b border-zinc-200/50 dark:bg-zinc-950/80 dark:border-zinc-800/50"
>
  <nav
    class="container relative flex h-full w-full items-center justify-between"
  >
    <!-- Logo Section -->
    <a
      routerLink="/"
      class="flex items-center space-x-2 hover:opacity-80 transition-opacity cursor-pointer text-zinc-900 dark:text-zinc-100"
      aria-label="Home"
    >
      <svg
        width="40"
        height="40"
        viewBox="0 0 210 210"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="h-10 w-auto"
      >
        <path
          d="M67.5 55C25.8333 88.3333 21.6667 134.167 55 192.5M142.5 155C184.167 121.667 188.333 76.7305 155 18.3972M105 5C78.4784 5 53.043 15.5357 34.2893 34.2893C15.5357 53.043 5 78.4784 5 105C5 131.522 15.5357 156.957 34.2893 175.711C53.043 194.464 78.4784 205 105 205C131.522 205 156.957 194.464 175.711 175.711C194.464 156.957 205 131.522 205 105C205 78.4784 194.464 53.043 175.711 34.2893C156.957 15.5357 131.522 5 105 5ZM105 42.5C88.424 42.5 72.5269 49.0848 60.8058 60.8058C49.0848 72.5269 42.5 88.424 42.5 105C42.5 121.576 49.0848 137.473 60.8058 149.194C72.5269 160.915 88.424 167.5 105 167.5C121.576 167.5 137.473 160.915 149.194 149.194C160.915 137.473 167.5 121.576 167.5 105C167.5 88.424 160.915 72.5269 149.194 60.8058C137.473 49.0848 121.576 42.5 105 42.5Z"
          stroke="currentColor"
          stroke-width="10"
          stroke-linejoin="round"
        />
      </svg>
    </a>

    <div class="flex items-center gap-2">
      <!-- Desktop Navigation -->
      <div class="hidden sm:flex items-center gap-8">
        @for(nav of navigation(); track nav){
        <a
          [routerLink]="nav.link"
          class="cursor-pointer group relative text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 transition-all duration-200"
          aria-label="{{ nav.ariaLabel }} section"
        >
          {{ nav.title }}
          <span
            class="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 group-hover:w-full transition-all duration-300"
          ></span>
        </a>
        }
      </div>

      <!-- Right Section - Theme and Mobile Menu -->
      <div class="flex items-center gap-2">
        <div class="bg-border h-6 w-px hidden md:block"></div>

        <button
          hlmBtn
          aria-label="Open GitHub Profile"
          size="icon"
          variant="ghost"
          type="button"
          (click)="openGithub()"
        >
          <ng-icon hlm name="lucideGithub" class="text-primary" size="sm" />
        </button>

        <button
          hlmBtn
          aria-label="Open Twitter X Profile"
          size="icon"
          variant="ghost"
          type="button"
          (click)="openX()"
        >
          <ng-icon
            hlm
            name="remixTwitterXFill"
            class="text-primary"
            size="sm"
          />
        </button>
        <button
          hlmBtn
          aria-label="Open LinkedIn Profile"
          size="icon"
          variant="ghost"
          type="button"
          (click)="openLinkedIn()"
        >
          <ng-icon
            hlm
            name="radixLinkedinLogo"
            class="text-primary"
            size="sm"
          />
        </button>
        <div class="bg-border h-6 w-px"></div>
        <app-theme-toggler />

        <!-- Mobile Menu Button -->
        <button
          class="sm:hidden"
          (click)="toggle()"
          [attr.aria-expanded]="menuOpen()"
          aria-label="Toggle mobile navigation menu"
          title="Toggle mobile navigation menu"
          type="button"
          hlmBtn
          size="icon"
          variant="outline"
        >
          <ng-icon hlmIcon size="sm" name="radixHamburgerMenu" />
        </button>
        <!-- Now Playing Widget (hidden on mobile) -->
        <div class="hidden md:block">
          <app-now-playing />
        </div>
      </div>
    </div>
  </nav>

  <!-- Mobile Navigation Menu -->
  @if(menuOpen()){
  <nav
    class="transition-all duration-300 ease-in-out border-t border-zinc-200/50 bg-white dark:bg-zinc-950 dark:border-zinc-800/50 px-6 py-6"
    (clickOutside)="onClickOutside()"
  >
    <!-- Navigation Links -->
    <div class="flex flex-col gap-6">
      @for(nav of navigation(); track nav){
      <a
        [routerLink]="nav.link"
        class="cursor-pointer group flex items-center text-base font-medium text-zinc-700 hover:text-blue-600 dark:text-zinc-300 dark:hover:text-blue-400 transition-all duration-200"
        [ariaLabel]="nav.ariaLabel"
      >
        {{ nav.title }}
      </a>
      }
    </div>
  </nav>
  }
</header>
